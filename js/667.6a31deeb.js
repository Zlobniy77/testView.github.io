"use strict";(globalThis["webpackChunkmydashboard"]=globalThis["webpackChunkmydashboard"]||[]).push([[667],{8667:(t,a,e)=>{e.r(a),e.d(a,{default:()=>B});var r=e(1758);function s(t,a,e,s,i,n){const c=(0,r.g2)("YouTube"),o=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(o,{class:"flex"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{src:"https://www.youtube.com/watch?v=udXOGA8wjD8",onReady:t.onReady,ref:"youtube"},null,8,["onReady"])])),_:1})}const i={style:{width:"100%",height:"700px"}};function n(t,a,e,s,n,c){const o=(0,r.g2)("Bar");return(0,r.uX)(),(0,r.CE)("div",i,[(0,r.eW)(" ChartJS.js "),c.isBarChart?((0,r.uX)(),(0,r.Wv)(o,{key:0,id:"my-chart-id",ref:"chartRef",data:c.chartData,options:c.chartOptions,width:n.width,height:n.height},null,8,["data","options","width","height"])):(0,r.Q3)("",!0)])}e(239);var c=e(5520),o=e(6406),d=e(3679),h=e(587),l=e(4461);const g=(0,h.nY)("data",{state:()=>({data:{charts:[{id:1,libVersion:"chartJS",title:"test chart",chartType:"bar",isStacked:!1,xTitle:"1000 metric tons (MT)",yTitle:"1000 metric tons (MT)",isSelected:!0,dataId:1,chartSettings:[]}],chartsData:[{id:1,values:[{category:"USA",series:[{name:"Corn",data:406292},{name:"Wheat",data:51086}]},{category:"China",series:[{name:"Corn",data:26e4},{name:"Wheat",data:136e3}]},{category:"Brazil",series:[{name:"Corn",data:107e3},{name:"Wheat",data:5500}]},{category:"EU",series:[{name:"Corn",data:68300},{name:"Wheat",data:141e3}]},{category:"India",series:[{name:"Corn",data:27500},{name:"Wheat",data:107180}]},{category:"Russia",series:[{name:"Corn",data:14500},{name:"Wheat",data:77e3}]}]}]}}),getters:{getCharts(t){return t.data.charts},getChartData(t,a){return console.log("data store, get chart data"),t.data.charts},getChart(t){return console.log("data store, get chart data"),t.data.chart},getChartOptions(t){let a={animation:!1,barThickness:"flex",responsive:!0,datasets:{bar:{minBarLength:1}}};return t.data&&t.data.chart&&(a.indexAxis=t.data.chart.horizontal?"y":"x",t.data.chart.ticks&&(a.ticks=t.data.chart.ticks),t.data.chart.scales&&(a.scales=t.data.chart.scales),a.plugins={},t.data.chart.dataLabels&&(a.plugins.datalabels=t.data.chart.dataLabels,a.plugins.datalabels.clamp=!0,a.plugins.datalabels.align="center"),t.data.chart.legend&&(a.plugins.legend=t.data.chart.legend),t.data.chart.title&&(a.plugins.title=t.data.chart.title,a.plugins.title.padding={top:10,bottom:10,left:0,right:0})),a}},actions:{getChartDataAction(t){console.log("data store, get chart data action "+t);const a=this.data.charts.find((a=>{if(a.id===t)return this.fillChart(a,a.dataId),a}));return a},selectElement(t){for(const a of this.data.charts)a.isSelected=!1,a.id===t&&(a.isSelected=!0)},fillChart(t,a){const e=this.data.chartsData.find((t=>{if(t.id===a)return t})),r=[],s=[],i=new Map;for(const c of e.values){r.push(c.category);for(const t of c.series){let a=i.get(t.name);void 0===a?(a=[],a.push(t.data),i.set(t.name,a)):a.push(t.data)}}for(const c of i)s.push({name:c[0],data:c[1]});const n={categories:r,series:s};console.log("chartData: "+n),t.chartData=n},initDefaultCharts(){},initData(t){console.log("init data payload: "+t.dataType);let a={viewType:"CHART",dataType:t.dataType,startDate:"2023-11-25T10:57:54.663Z",endDate:"2023-11-25T10:57:54.663Z"};(0,l.A)({method:"POST",url:"/api/data",data:a}).then((t=>{try{console.log(t),this.data=t.data}catch(a){console.log("error: "+t)}})).catch((t=>{console.log(t)}))},setData(t){this.data=t},getData(t){return this.data.values}}});d.t1.register(d.hE,d.m_,d.s$,d.E8,d.PP,d.kc,o.A);const u={name:"Chart",components:{Bar:c.yP,Pie:c.Fq,Line:c.N1},props:{chartId:{type:Number}},data(){return{width:90,height:40}},computed:{isBarChart(){return!0},chartData(){console.log("get chart js example");const t=g();let a=t.getChartDataAction(this.chartId),e=[],r=["#2CAFFE","#544FC5","#04a107","#c99a04","#bb099d","#a10000"],s=[];e=a.chartData.categories;let i=0;for(const c of a.chartData.series){let t={label:c.name,backgroundColor:r[i],data:c.data};i++,s.push(t)}let n={labels:e,datasets:s};return n},chartOptions(){const t=g();let a=t.getChartDataAction(this.chartId),e="column"===a.chartType,r={animation:!1,barThickness:"flex",responsive:!0,indexAxis:e?"x":"y",ticks:{font:{size:"18"},width:1e3,labelMaxWidth:1e3},datasets:{bar:{minBarLength:1}},yAxes:[{afterSetDimensions:function(t){t.maxWidth=165}}],scales:{x:{display:!0,stacked:a.isStacked,grid:{offset:!1,tickLength:0},ticks:{precision:0},title:{display:!0,text:e?"":a.xTitle},afterSetDimensions:function(t){t.maxWidth=165,t.width=165}},y:{display:!0,stacked:a.isStacked,grid:{offset:!1,tickLength:0},ticks:{precision:0},title:{display:!0,text:e?a.yTitle:""},afterSetDimensions:function(t){t.maxWidth=300,t.width=300,t.minWidth=300}}},plugins:{datalabels:{formatter:function(t){return t},clamp:!0,align:"center"},legend:{display:!0,position:"bottom",labels:{usePointStyle:!0,padding:30}},tooltip:{callbacks:{title:function(t){return""}}},title:{display:!0,text:a.title,padding:{top:50,bottom:10,left:0,right:0},color:"#FF0000FF",align:"center",position:"top"}}};return r}},methods:{}};var p=e(2807);const m=(0,p.A)(u,[["render",n]]),y=m;var f=e(8790);const C={key:2};function b(t,a,e,s,i,n){const c=(0,r.g2)("Chart"),o=(0,r.g2)("high-chart");return(0,r.uX)(),(0,r.CE)("div",{class:(0,f.C4)({selected:n.isSelected}),onClick:a[0]||(a[0]=t=>n.selectElement())},["chartJS"===e.libVersion?((0,r.uX)(),(0,r.Wv)(c,{key:0,"chart-id":e.chartId},null,8,["chart-id"])):"highcharts"===e.libVersion?((0,r.uX)(),(0,r.Wv)(o,{key:1,"chart-id":e.chartId},null,8,["chart-id"])):((0,r.uX)(),(0,r.CE)("div",C,"Unknown chart library"))],2)}const k={style:{width:"100%",height:"700px"}};function x(t,a,e,s,i,n){const c=(0,r.g2)("charts");return(0,r.uX)(),(0,r.CE)("div",k,[(0,r.eW)(" Highcharts.js "),(0,r.bF)(c,{options:n.getChartData},null,8,["options"])])}const D={name:"HighChart",data(){return{}},props:{chartId:{type:Number}},computed:{getChartData(){const t=g();let a=t.getChartDataAction(this.chartId),e=a.isSelected?"#cad6ff":"#FFFFFFFF",r={chart:{type:a.chartType,backgroundColor:e},title:{text:a.title,align:"left"},xAxis:{categories:a.chartData.categories,crosshair:!0,accessibility:{description:"Countries"}},yAxis:{min:0,title:{text:a.xTitle}},tooltip:{valueSuffix:" (1000 MT)"},plotOptions:{column:{stacking:a.isStacked?"normal":"",dataLabels:{enabled:!0}},bar:{stacking:a.isStacked?"normal":"",dataLabels:{enabled:!0}}},series:a.chartData.series};return r}}},S=(0,p.A)(D,[["render",x]]),T=S,v={name:"ChartComponentWrapper",components:{HighChart:T,Chart:y},props:{chartId:{type:Number},libVersion:{type:String}},computed:{isSelected(){const t=g();let a=t.getChartDataAction(this.chartId);return console.log("chart is selected: "+this.chartId+" is: "+a.isSelected),a.isSelected}},methods:{selectElement(){const t=g();t.selectElement(this.chartId)}}},A=(0,p.A)(v,[["render",b],["__scopeId","data-v-d9f3746e"]]),w=A;var W=e(2495),F=e.n(W);const I=(0,r.pM)({name:"IndexPage",components:{HighChart:T,Chart:y,ChartComponentWrapper:w,YouTube:F()},computed:{getCharts(){const t=g();return t.getCharts}}});var E=e(3177),L=e(8582),X=e.n(L);const P=(0,p.A)(I,[["render",s]]),B=P;X()(I,"components",{QPage:E.A})}}]);